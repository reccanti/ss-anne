(this["webpackJsonpss-anne"]=this["webpackJsonpss-anne"]||[]).push([[0],{113:function(e,n,t){},123:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),u=t.n(c),o=(t(87),t(17)),s=t(20),i=t(7),l=t(5),d={users:{player:null,opponent:null},board:{name:"",columns:15,game:{id:"red",name:"Red",generation:"generation-i",pokedex:[]},generation:{id:1,name:"Generation I"},pokedex:{id:"kanto",name:"Kanto",pokemon:[]},pokemon:[]}};function p(e,n){switch(n.type){case"setPlayer":return Object(i.a)(Object(i.a)({},e),{},{users:Object(i.a)(Object(i.a)({},e.users),{},{player:{name:n.payload.name}})});case"setBoardColumns":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{columns:n.payload.columns})});case"setBoardName":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{name:n.payload.name})});case"setBoardGeneration":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{generation:Object(i.a)({},n.payload)})});case"setBoardGame":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{game:Object(i.a)({},n.payload)})});case"setBoardPokemon":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{pokemon:Object(s.a)(n.payload)})});case"setBoardPokedex":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{pokedex:Object(i.a)({},n.payload)})});default:return e}}var m={state:d,dispatch:function(){}},f=Object(a.createContext)(m);function b(e){var n=e.children,t=Object(a.useReducer)(p,d),r=Object(o.a)(t,2),c={state:r[0],dispatch:r[1]};return Object(l.jsx)(f.Provider,{value:c,children:n})}var j=t(37),h=t(26),x=t(8),O=t.n(x),v=t(16),g=t(29),k=t.n(g),y=t(46),w=t.n(y);function P(e){return C.apply(this,arguments)}function C(){return(C=Object(v.a)(O.a.mark((function e(n){var t,a,r,c,u,o,s,i,l,d=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d.length>1&&void 0!==d[1]?d[1]:25,a=[],r=0;r<n.length;)c=n.slice(r,r+t),a.push(c),r+=t;u=[],o=0,s=a;case 6:if(!(o<s.length)){e.next=15;break}return i=s[o],e.next=10,Promise.allSettled(i);case 10:l=e.sent,u=u.concat(l);case 12:o++,e.next=6;break;case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(){function e(n,t){Object(j.a)(this,e),this.key=void 0,this.handler=void 0,this.key=n,this.handler=t}return Object(h.a)(e,[{key:"mkKey",value:function(e){return"".concat(this.key,".").concat(e)}},{key:"get",value:function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.mkKey(n),!(a=localStorage.getItem(t))){e.next=5;break}return r=JSON.parse(a),e.abrupt("return",r);case 5:return e.next=7,this.handler(n);case 7:if(!(c=e.sent)){e.next=11;break}return localStorage.setItem(t,JSON.stringify(c)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),N=new B("pokemon",function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c,u,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.PokemonSpecies.resolve(n);case 2:return t=e.sent,a=t.varieties.find((function(e){return e.is_default})),e.next=6,k.a.Pokemon.resolve(a.pokemon.name);case 6:return r=e.sent,c=r.id,u=r.sprites.front_default,o=t.names.reduce((function(e,n){return e[n.language.name]=n.name,e}),{}),e.abrupt("return",{id:n,nationalDexNumber:c,artworkUrl:u,names:o});case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),S=new B("games",function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c,u,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.Version.resolve(n);case 2:return t=e.sent,e.next=5,k.a.VerionGroup.resolve(t.version_group.name);case 5:return a=e.sent,r=t.name,c=t.names.reduce((function(e,n){return e[n.language.name]=n.name,e}),{}),u=a.pokedexes.map((function(e){return e.name})),o=a.generation.name,e.abrupt("return",{id:r,names:c,pokedex:u,generation:o});case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),V=w()(function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c,u,o,s,i,l,d,p,m,f,b;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.Generaition.resolve(n);case 2:return t=e.sent,a=t.version_groups.map((function(e){return k.a.VerionGroup.resolve(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=r.flatMap((function(e){return e.pokedexes.map((function(e){return G.get(e.name)}))})),e.next=10,Promise.all(c);case 10:return u=e.sent,o=new Set,u.forEach((function(e){e.pokemon.forEach((function(e){o.add(e)}))})),s=new Map,i=Array.from(o).map((function(e){return N.get(e)})),e.next=17,P(i,100);case 17:return l=e.sent,d=l.filter((function(e){return"fulfilled"===e.status})),d.map((function(e){return e.value})).forEach((function(e){s.set(e.id,e.nationalDexNumber)})),e.next=23,G.get("national");case 23:return p=e.sent,m=p.names,f=Array.from(o).sort((function(e,n){var t=s.get(e),a=s.get(n);return t>a?1:t<a?-1:0})),b="national/".concat(n),e.abrupt("return",{names:m,pokemon:f,id:b});case 28:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),G=new B("pokedex",function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c,u,s,i,l,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.includes("national/")){e.next=6;break}return t=n.split("/"),a=Object(o.a)(t,2),r=a[1],c=V(r),e.abrupt("return",c);case 6:return e.next=8,k.a.Pokedex.resolve(n);case 8:return u=e.sent,s=u.name,i=u.names.reduce((function(e,n){return e[n.language.name]=n.name,e}),{}),(l=u.pokemon_entries.map((function(e){return{name:e.pokemon_species.name,num:e.entry_number}}))).sort((function(e,n){return e.num>n.num?1:e.num<n.num?-1:0})),d=l.map((function(e){return e.name})),e.abrupt("return",{id:s,names:i,pokemon:d});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),D=w()(function(){var e=Object(v.a)(O.a.mark((function e(n,t){var a,r,c,u,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get(t);case 2:return a=e.sent,r=a.pokemon.map((function(e){return N.get(e)})),e.next=6,P(r,50);case 6:return c=e.sent,u=c.filter((function(e){return"fulfilled"===e.status&&!!e.value})),o=u.map((function(e){return e.value})),e.abrupt("return",o.map((function(e){return{id:e.id,name:e.names[n],artworkUrl:e.artworkUrl,nationalDexNumber:e.nationalDexNumber}})));case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),W=w()(function(){var e=Object(v.a)(O.a.mark((function e(n){var t,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.Version.listAll();case 2:return t=e.sent,a=t.results.map((function(e){return S.get(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=r.filter((function(e){return!!e})),e.abrupt("return",c.filter((function(e){return e.pokedex.length>0})).map((function(e){return{id:e.id,name:e.names[n],generation:e.generation,pokedex:e.pokedex}})));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),E=w()(function(){var e=Object(v.a)(O.a.mark((function e(n,t){var a,r,c,u,o,i,l,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(t);case 2:return a=e.sent,r=a.pokedex,c=r.map((function(e){return G.get(e)})),e.next=7,Promise.all(c);case 7:return u=e.sent,o=u.filter((function(e){return!!e})),i=o.map((function(e){return{id:e.id,name:e.names[n],pokemon:e.pokemon}})),e.next=12,V(a.generation);case 12:return l=e.sent,d={name:l.names[n],id:l.id,pokemon:l.pokemon},e.abrupt("return",[d].concat(Object(s.a)(i)));case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),_=function(){function e(n){var t=n.lang,a=void 0===t?"en":t;Object(j.a)(this,e),this.language=void 0,this.language=a}return Object(h.a)(e,[{key:"getAllGames",value:function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(this.language);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokedexByGame",value:function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(this.language,n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getPokemonByPokedex",value:function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(this.language,n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),F=new _({lang:"en"}),K=Object(a.createContext)(F);function A(e){var n=Object(a.useState)(new _({lang:e.lang})),t=Object(o.a)(n,2),r=t[0],c=t[1];return Object(a.useEffect)((function(){c(new _({lang:e.lang}))}),[e.lang]),Object(l.jsx)(K.Provider,{value:r,children:e.children})}var I=t(72),T=t(13),J=(t(113),t(159)),M=t(162),U=t(158),L=t(172),R=t(163),q=t(164),z=t(153),H=t(169),Q=t(156),X=t(166),Y=t(171);function Z(e){var n,t=new Map;e.data.forEach((function(n){t.set(e.getValue(n),n)}));return Object(l.jsxs)(z.a,{fullWidth:null!==(n=e.fullWidth)&&void 0!==n&&n,children:[Object(l.jsx)(H.a,{htmlFor:e.id,children:e.label}),Object(l.jsx)(X.a,{id:e.id,value:e.getValue(e.value),onChange:function(n){var a=n.target.value,r=t.get(a);e.onChange(r)},children:e.data.map((function(n){return Object(l.jsx)(Y.a,{value:e.getValue(n),children:e.getDisplayValue(n)},e.getKeyValue(n))}))})]})}var $=t(167),ee=t(160),ne=t(52),te=t(161),ae=Object(J.a)({root:{display:"block",background:function(e){switch(e.variant){case"ship-unhit":return ee.a[500];case"ship-hit":return ne.a[500];case"miss":return te.a[50];default:return"transparent"}}},image:{display:"block"}});function re(e){var n=e.variant,t=e.onClick,a=e.children,r=ae({variant:n});return Object(l.jsx)("li",{className:r.root,onClick:t,children:a})}var ce=Object(J.a)({root:{display:"grid",gridTemplateColumns:function(e){return"repeat(".concat(e.columns,", max-content)")},listStyle:"none",padding:0}});function ue(e){var n=e.columns,t=e.items,a=e.renderCell,r=ce({columns:n});return Object(l.jsx)("ol",{className:r.root,children:t.map((function(e){return a(e)}))})}var oe=Object(J.a)({root:function(e){var n,t;return{width:null!==(n=e.width)&&void 0!==n?n:"100%",height:null!==(t=e.height)&&void 0!==t?t:"100vh",overflow:"scroll"}}});function se(e){var n=e.children,t=oe({});return Object(l.jsx)($.a,{className:t.root,children:n})}var ie=Object(J.a)({root:{padding:"1rem",margin:"1rem","& *:not(:first-child)":{marginTop:"1rem"}}});function le(){var e=ie(),n=Object(a.useContext)(f).dispatch,t=Object(a.useState)({name:""}),r=Object(o.a)(t,2),c=r[0],u=r[1];return Object(l.jsx)(M.a,{fixed:!0,maxWidth:"sm",children:Object(l.jsx)(U.a,{className:e.root,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({type:"setPlayer",payload:{name:c.name}}),n({type:"setBoardName",payload:{name:"".concat(c.name,"'s board")}})},children:[Object(l.jsx)(L.a,{label:"Display Name",onChange:function(e){u(Object(i.a)(Object(i.a)({},c),{},{name:e.target.value}))},value:c.name,fullWidth:!0}),Object(l.jsx)(R.a,{type:"submit",fullWidth:!0,children:"Get Started"})]})})})}var de=Object(J.a)({root:{padding:"1rem",maxWidth:"350px",margin:"1rem","& > *:not(:first-child)":{marginTop:"1rem"}}});function pe(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)([]),u=Object(o.a)(c,2),s=u[0],i=u[1],d=Object(a.useContext)(f),p=d.state,m=d.dispatch,b=Object(a.useContext)(K),j=de();return Object(a.useEffect)((function(){(function(){var e=Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getAllGames();case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]),Object(a.useEffect)((function(){(function(){var e=Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPokedexByGame(p.board.game);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b,m,p.board.game]),Object(a.useEffect)((function(){(function(){var e=Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPokemonByPokedex(p.board.pokedex);case 2:n=e.sent,m({type:"setBoardPokemon",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b,m,p.board.pokedex]),Object(l.jsxs)(q.a,{container:!0,children:[Object(l.jsx)(q.a,{container:!0,item:!0,xs:2,children:Object(l.jsxs)(U.a,{component:"form",className:j.root,children:[Object(l.jsx)(L.a,{fullWidth:!0,label:"Board Name",onChange:function(e){var n=e.target.value;m({type:"setBoardName",payload:{name:n}})},value:p.board.name}),Object(l.jsxs)(z.a,{fullWidth:!0,children:[Object(l.jsx)(H.a,{htmlFor:"column-input",children:"Columns"}),Object(l.jsx)(Q.a,{id:"column-input",type:"number",onChange:function(e){var n=Number(e.target.value);m({type:"setBoardColumns",payload:{columns:n}})},value:p.board.columns})]}),Object(l.jsx)(Z,{id:"game-select",label:"Game",fullWidth:!0,data:t,value:p.board.game,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.id},getValue:function(e){return e.id},onChange:function(e){m({type:"setBoardGame",payload:e})}}),Object(l.jsx)(Z,{id:"pokedex-select",label:"Pokedex",fullWidth:!0,data:s,value:p.board.pokedex,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.id},getValue:function(e){return e.id},onChange:function(e){m({type:"setBoardPokedex",payload:e})}})]})}),Object(l.jsx)(q.a,{container:!0,item:!0,xs:10,children:Object(l.jsx)(se,{children:Object(l.jsx)(ue,{columns:p.board.columns,items:p.board.pokemon,renderCell:function(e){return Object(l.jsx)(re,{variant:"unknown",children:Object(l.jsx)("img",{src:e.artworkUrl,alt:e.name})},e.name)}})})})]})}function me(){return Object(a.useContext)(f).state.users.player?Object(l.jsx)(pe,{}):Object(l.jsx)(le,{})}var fe=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(A,{lang:"en",children:Object(l.jsx)(I.a,{basename:"/ss-anne",children:Object(l.jsx)(T.c,{children:Object(l.jsx)(T.a,{exact:!0,path:"/",children:Object(l.jsx)(me,{})})})})})})},be=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,174)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,u=n.getTTFB;t(e),a(e),r(e),c(e),u(e)}))},je=t(168),he=t(165);u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsxs)(je.b,{children:[Object(l.jsx)(he.a,{}),Object(l.jsx)(fe,{})]})}),document.getElementById("root")),be()},87:function(e,n,t){}},[[123,1,2]]]);
//# sourceMappingURL=main.ae784406.chunk.js.map