(this["webpackJsonpss-anne"]=this["webpackJsonpss-anne"]||[]).push([[0],{113:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),u=n.n(c),o=(n(87),n(19)),s=n(22),i=n(8),l=n(5),d={users:{player:null,opponent:null},board:{name:"",columns:15,game:{id:1,name:"Red",pokedex:[]},generation:{id:1,name:"Generation I"},pokemon:[]}};function p(e,t){switch(t.type){case"setPlayer":return Object(i.a)(Object(i.a)({},e),{},{users:Object(i.a)(Object(i.a)({},e.users),{},{player:{name:t.payload.name}})});case"setBoardColumns":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{columns:t.payload.columns})});case"setBoardName":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{name:t.payload.name})});case"setBoardGeneration":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{generation:Object(i.a)({},t.payload)})});case"setBoardGame":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{game:Object(i.a)({},t.payload)})});case"setBoardPokemon":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{pokemon:Object(s.a)(t.payload)})});default:return e}}var f={state:d,dispatch:function(){}},m=Object(a.createContext)(f);function b(e){var t=e.children,n=Object(a.useReducer)(p,d),r=Object(o.a)(n,2),c={state:r[0],dispatch:r[1]};return Object(l.jsx)(m.Provider,{value:c,children:t})}var j=n(37),h=n(27),O=n(7),v=n.n(O),x=n(16),g=n(25),y=n.n(g),k=n(57),w=n.n(k);function C(e){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(v.a.mark((function e(t){var n,a,r,c,u,o,s,i,l,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=d.length>1&&void 0!==d[1]?d[1]:25,a=[],r=0;r<t.length;)c=t.slice(r,r+n),a.push(c),r+=n;u=[],o=0,s=a;case 6:if(!(o<s.length)){e.next=15;break}return i=s[o],e.next=10,Promise.allSettled(i);case 10:l=e.sent,u=u.concat(l);case 12:o++,e.next=6;break;case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){function e(t,n){Object(j.a)(this,e),this.key=void 0,this.handler=void 0,this.key=t,this.handler=n}return Object(h.a)(e,[{key:"mkKey",value:function(e){return"".concat(this.key,".").concat(e)}},{key:"get",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mkKey(t),!(a=localStorage.getItem(n))){e.next=5;break}return r=JSON.parse(a),e.abrupt("return",r);case 5:return e.next=7,this.handler(t);case 7:if(!(c=e.sent)){e.next=11;break}return localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),B=w()(Object(x.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Generaition.listAll();case 2:return t=e.sent,n=t.results.map((function(e){return y.a.Generaition.get(e.name)})),e.next=6,Promise.all(n);case 6:return a=e.sent,r=new Map,a.forEach((function(e){e.pokemon_species.forEach((function(t){r.set(t.name,e.id)}))})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),{isPromise:!0}),N=new G("pokemon",function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,r,c,u,o,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.PokemonSpecies.resolve(t);case 2:return n=e.sent,a=n.varieties.find((function(e){return e.is_default})),e.next=6,y.a.Pokemon.resolve(a.pokemon.name);case 6:return r=e.sent,e.next=9,B();case 9:return c=e.sent,u=r.id,o=r.sprites.front_default,s=n.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),i=c.get(r.name),e.abrupt("return",{nationalDexNumber:u,artworkUrl:o,names:s,generation:i});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=new G("games",function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,r,c,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Version.resolve(t);case 2:return n=e.sent,e.next=5,y.a.VerionGroup.resolve(n.version_group.name);case 5:return a=e.sent,r=n.id,c=n.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),u=a.pokedexes.map((function(e){return e.name})),e.abrupt("return",{id:r,names:c,pokedex:u});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function V(e){return E.apply(this,arguments)}function E(){return(E=Object(x.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Generaition.listAll();case 2:return n=e.sent,a=n.results.map((function(e){return y.a.Generaition.resolve(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=[],r.forEach((function(e){var n=e.names.find((function(e){return e.language.name===t}));n&&c.push({name:n.name,id:e.id})})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(v.a.mark((function e(t,n){var a,r,c,u,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n,r=[];a>0;)r.push(y.a.Generaition.resolve(a)),a--;return e.next=5,Promise.all(r);case 5:return c=e.sent,u=[],c.forEach((function(e){e.pokemon_species.forEach((function(e){var t=N.get(e.name);u.push(t)}))})),e.next=10,C(u,100);case 10:return o=e.sent,s=o.filter((function(e){return"fulfilled"===e.status&&!!e.value})).map((function(e){return{name:e.value.names[t],nationalDexNumber:e.value.id,generation:e.value.generation,artworkUrl:e.value.artworkUrl}})),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=w()(function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Version.listAll();case 2:return n=e.sent,a=n.results.map((function(e){return S.get(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=r.filter((function(e){return!!e})),e.abrupt("return",c.map((function(e){return{id:e.id,name:e.names[t],pokedex:e.pokedex}})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=function(){function e(t){var n=t.lang,a=void 0===n?"en":n;Object(j.a)(this,e),this.language=void 0,this.language=a}return Object(h.a)(e,[{key:"getAllGames",value:function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(this.language);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllGenerations",value:function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(this.language);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemonByGeneration",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(this.language,t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=new F({lang:"en"}),T=Object(a.createContext)(I);function _(e){var t=Object(a.useState)(new F({lang:e.lang})),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){c(new F({lang:e.lang}))}),[e.lang]),Object(l.jsx)(T.Provider,{value:r,children:e.children})}var J=n(72),K=n(13),U=(n(113),n(159)),M=n(162),L=n(158),R=n(172),q=n(163),z=n(164),H=n(153),Q=n(169),X=n(156),Y=n(166),Z=n(171);function $(e){var t,n=new Map;e.data.forEach((function(t){n.set(e.getValue(t),t)}));return Object(l.jsxs)(H.a,{fullWidth:null!==(t=e.fullWidth)&&void 0!==t&&t,children:[Object(l.jsx)(Q.a,{htmlFor:e.id,children:e.label}),Object(l.jsx)(Y.a,{id:e.id,value:e.getValue(e.value),onChange:function(t){var a=t.target.value,r=n.get(a);e.onChange(r)},children:e.data.map((function(t){return Object(l.jsx)(Z.a,{value:e.getValue(t),children:e.getDisplayValue(t)},e.getKeyValue(t))}))})]})}var ee=n(167),te=n(160),ne=n(51),ae=n(161),re=Object(U.a)({root:{display:"block",background:function(e){switch(e.variant){case"ship-unhit":return te.a[500];case"ship-hit":return ne.a[500];case"miss":return ae.a[50];default:return"transparent"}}},image:{display:"block"}});function ce(e){var t=e.variant,n=e.onClick,a=e.children,r=re({variant:t});return Object(l.jsx)("li",{className:r.root,onClick:n,children:a})}var ue=Object(U.a)({root:{display:"grid",gridTemplateColumns:function(e){return"repeat(".concat(e.columns,", max-content)")},listStyle:"none",padding:0}});function oe(e){var t=e.columns,n=e.items,a=e.renderCell,r=ue({columns:t});return Object(l.jsx)("ol",{className:r.root,children:n.map((function(e){return a(e)}))})}var se=Object(U.a)({root:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:"100%",height:null!==(n=e.height)&&void 0!==n?n:"100vh",overflow:"scroll"}}});function ie(e){var t=e.children,n=se({});return Object(l.jsx)(ee.a,{className:n.root,children:t})}var le=Object(U.a)({root:{padding:"1rem",margin:"1rem","& *:not(:first-child)":{marginTop:"1rem"}}});function de(){var e=le(),t=Object(a.useContext)(m).dispatch,n=Object(a.useState)({name:""}),r=Object(o.a)(n,2),c=r[0],u=r[1];return Object(l.jsx)(M.a,{fixed:!0,maxWidth:"sm",children:Object(l.jsx)(L.a,{className:e.root,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:"setPlayer",payload:{name:c.name}}),t({type:"setBoardName",payload:{name:"".concat(c.name,"'s board")}})},children:[Object(l.jsx)(R.a,{label:"Display Name",onChange:function(e){u(Object(i.a)(Object(i.a)({},c),{},{name:e.target.value}))},value:c.name,fullWidth:!0}),Object(l.jsx)(q.a,{type:"submit",fullWidth:!0,children:"Get Started"})]})})})}var pe=Object(U.a)({root:{padding:"1rem",maxWidth:"350px",margin:"1rem","& > *:not(:first-child)":{marginTop:"1rem"}}});function fe(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(m),u=c.state,s=c.dispatch,i=Object(a.useContext)(T),d=pe();return Object(a.useEffect)((function(){(function(){var e=Object(x.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAllGames();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(a.useEffect)((function(){(function(){var e=Object(x.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getPokemonByGeneration(u.board.generation);case 2:t=e.sent,s({type:"setBoardPokemon",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,s,u.board.generation]),Object(l.jsxs)(z.a,{container:!0,children:[Object(l.jsx)(z.a,{container:!0,item:!0,xs:2,children:Object(l.jsxs)(L.a,{component:"form",className:d.root,children:[Object(l.jsx)(R.a,{fullWidth:!0,label:"Board Name",onChange:function(e){var t=e.target.value;s({type:"setBoardName",payload:{name:t}})},value:u.board.name}),Object(l.jsxs)(H.a,{fullWidth:!0,children:[Object(l.jsx)(Q.a,{htmlFor:"column-input",children:"Columns"}),Object(l.jsx)(X.a,{id:"column-input",type:"number",onChange:function(e){var t=Number(e.target.value);s({type:"setBoardColumns",payload:{columns:t}})},value:u.board.columns})]}),Object(l.jsx)($,{id:"game-select",label:"Game",fullWidth:!0,data:n,value:u.board.game,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.name},getValue:function(e){return e.id},onChange:function(e){s({type:"setBoardGame",payload:e})}})]})}),Object(l.jsx)(z.a,{container:!0,item:!0,xs:10,children:Object(l.jsx)(ie,{children:Object(l.jsx)(oe,{columns:u.board.columns,items:u.board.pokemon,renderCell:function(e){return Object(l.jsx)(ce,{variant:"unknown",children:Object(l.jsx)("img",{src:e.artworkUrl,alt:e.name})},e.name)}})})})]})}function me(){return Object(a.useContext)(m).state.users.player?Object(l.jsx)(fe,{}):Object(l.jsx)(de,{})}var be=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(_,{lang:"en",children:Object(l.jsx)(J.a,{basename:"/ss-anne",children:Object(l.jsx)(K.c,{children:Object(l.jsx)(K.a,{exact:!0,path:"/",children:Object(l.jsx)(me,{})})})})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),a(e),r(e),c(e),u(e)}))},he=n(168),Oe=n(165);u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsxs)(he.b,{children:[Object(l.jsx)(Oe.a,{}),Object(l.jsx)(be,{})]})}),document.getElementById("root")),je()},87:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.e6bf77e6.chunk.js.map