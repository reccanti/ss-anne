(this["webpackJsonpss-anne"]=this["webpackJsonpss-anne"]||[]).push([[0],{112:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),u=(n(86),n(18)),s=n(22),i=n(10),l=n(5),d={users:{player:null,opponent:null},board:{name:"",columns:15,generation:{id:1,name:"Generation I"},pokemon:[]}};function b(e,t){switch(t.type){case"setPlayer":return Object(i.a)(Object(i.a)({},e),{},{users:Object(i.a)(Object(i.a)({},e.users),{},{player:{name:t.payload.name}})});case"setBoardColumns":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{columns:t.payload.columns})});case"setBoardName":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{name:t.payload.name})});case"setBoardGeneration":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{generation:Object(i.a)({},t.payload)})});case"setBoardPokemon":return Object(i.a)(Object(i.a)({},e),{},{board:Object(i.a)(Object(i.a)({},e.board),{},{pokemon:Object(s.a)(t.payload)})});default:return e}}var f={state:d,dispatch:function(){}},j=Object(a.createContext)(f);function p(e){var t=e.children,n=Object(a.useReducer)(b,d),r=Object(u.a)(n,2),c={state:r[0],dispatch:r[1]};return Object(l.jsx)(j.Provider,{value:c,children:t})}var h=n(36),m=n(26),O=n(12),v=n.n(O),g=n(19),x=n(42),y=n.n(x);function k(e){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(v.a.mark((function e(t){var n,a,r,c,o,u,s,i,l,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=d.length>1&&void 0!==d[1]?d[1]:25,a=[],r=0;r<t.length;)c=t.slice(r,r+n),a.push(c),r+=n;o=[],u=0,s=a;case 6:if(!(u<s.length)){e.next=15;break}return i=s[u],e.next=10,Promise.allSettled(i);case 10:l=e.sent,o=o.concat(l);case 12:u++,e.next=6;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=new(function(){function e(t,n){Object(h.a)(this,e),this.key=void 0,this.handler=void 0,this.key=t,this.handler=n}return Object(m.a)(e,[{key:"mkKey",value:function(e){return"".concat(this.key,".").concat(e)}},{key:"get",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mkKey(t),!(a=localStorage.getItem(n))){e.next=5;break}return r=JSON.parse(a),e.abrupt("return",r);case 5:return e.next=7,this.handler(t);case 7:if(!(c=e.sent)){e.next=11;break}return localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())("pokemon",function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,c,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.PokemonSpecies.resolve(t);case 2:return n=e.sent,a=n.varieties.find((function(e){return e.is_default})),e.next=6,y.a.Pokemon.resolve(a.pokemon.name);case 6:return r=e.sent,c=r.id,o=r.sprites.front_default,u=n.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),e.abrupt("return",{id:c,artworkUrl:o,names:u});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function P(e){return B.apply(this,arguments)}function B(){return(B=Object(g.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Generaition.listAll();case 2:return n=e.sent,a=n.results.map((function(e){return y.a.Generaition.resolve(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=[],r.forEach((function(e){var n=e.names.find((function(e){return e.language.name===t}));n&&c.push({name:n.name,id:e.id})})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return N.apply(this,arguments)}function N(){return(N=Object(g.a)(v.a.mark((function e(t,n){var a,r,c,o,u,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n,r=[];a>0;)r.push(y.a.Generaition.resolve(a)),a--;return e.next=5,Promise.all(r);case 5:return c=e.sent,o=[],c.forEach((function(e){e.pokemon_species.forEach((function(e){var t=C.get(e.name);o.push(t)}))})),e.next=10,k(o,100);case 10:return u=e.sent,s=u.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})).filter((function(e){return!!e})),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){function e(t){var n=t.lang,a=void 0===n?"en":n;Object(h.a)(this,e),this.language=void 0,this.language=a}return Object(m.a)(e,[{key:"getAllGenerations",value:function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(this.language);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemonByGeneration",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(this.language,t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=new G({lang:"en"}),E=Object(a.createContext)(W);function V(e){var t=Object(a.useState)(new G({lang:e.lang})),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){c(new G({lang:e.lang}))}),[e.lang]),Object(l.jsx)(E.Provider,{value:r,children:e.children})}var F=n(71),D=n(13),I=(n(112),n(158)),T=n(161),J=n(157),K=n(171),A=n(162),_=n(163),L=n(152),M=n(168),U=n(155),R=n(165),q=n(170);function z(e){var t,n=new Map;e.data.forEach((function(t){n.set(e.getValue(t),t)}));return Object(l.jsxs)(L.a,{fullWidth:null!==(t=e.fullWidth)&&void 0!==t&&t,children:[Object(l.jsx)(M.a,{htmlFor:e.id,children:e.label}),Object(l.jsx)(R.a,{id:e.id,value:e.getValue(e.value),onChange:function(t){var a=t.target.value,r=n.get(a);e.onChange(r)},children:e.data.map((function(t){return Object(l.jsx)(q.a,{value:e.getValue(t),children:e.getDisplayValue(t)},e.getKeyValue(t))}))})]})}var H=n(166),Q=n(159),X=n(51),Y=n(160),Z=Object(I.a)({root:{display:"block",background:function(e){switch(e.variant){case"ship-unhit":return Q.a[500];case"ship-hit":return X.a[500];case"miss":return Y.a[50];default:return"transparent"}}},image:{display:"block"}});function $(e){var t=e.variant,n=e.onClick,a=e.children,r=Z({variant:t});return Object(l.jsx)("li",{className:r.root,onClick:n,children:a})}var ee=Object(I.a)({root:{display:"grid",gridTemplateColumns:function(e){return"repeat(".concat(e.columns,", max-content)")},listStyle:"none",padding:0}});function te(e){var t=e.columns,n=e.items,a=e.renderCell,r=ee({columns:t});return Object(l.jsx)("ol",{className:r.root,children:n.map((function(e){return a(e)}))})}var ne=Object(I.a)({root:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:"100%",height:null!==(n=e.height)&&void 0!==n?n:"100vh",overflow:"scroll"}}});function ae(e){var t=e.children,n=ne({});return Object(l.jsx)(H.a,{className:n.root,children:t})}var re=Object(I.a)({root:{padding:"1rem",margin:"1rem","& *:not(:first-child)":{marginTop:"1rem"}}});function ce(){var e=re(),t=Object(a.useContext)(j).dispatch,n=Object(a.useState)({name:""}),r=Object(u.a)(n,2),c=r[0],o=r[1];return Object(l.jsx)(T.a,{fixed:!0,maxWidth:"sm",children:Object(l.jsx)(J.a,{className:e.root,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:"setPlayer",payload:{name:c.name}}),t({type:"setBoardName",payload:{name:"".concat(c.name,"'s board")}})},children:[Object(l.jsx)(K.a,{label:"Display Name",onChange:function(e){o(Object(i.a)(Object(i.a)({},c),{},{name:e.target.value}))},value:c.name,fullWidth:!0}),Object(l.jsx)(A.a,{type:"submit",fullWidth:!0,children:"Get Started"})]})})})}var oe=Object(I.a)({root:{padding:"1rem",maxWidth:"350px",margin:"1rem","& > *:not(:first-child)":{marginTop:"1rem"}}});function ue(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(j),o=c.state,s=c.dispatch,i=Object(a.useContext)(E),d=oe();return Object(a.useEffect)((function(){(function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAllGenerations();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(a.useEffect)((function(){(function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getPokemonByGeneration(o.board.generation);case 2:t=e.sent,s({type:"setBoardPokemon",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,s,o.board.generation]),Object(l.jsxs)(_.a,{container:!0,children:[Object(l.jsx)(_.a,{container:!0,item:!0,xs:2,children:Object(l.jsxs)(J.a,{component:"form",className:d.root,children:[Object(l.jsx)(K.a,{fullWidth:!0,label:"Board Name",onChange:function(e){var t=e.target.value;s({type:"setBoardName",payload:{name:t}})},value:o.board.name}),Object(l.jsxs)(L.a,{fullWidth:!0,children:[Object(l.jsx)(M.a,{htmlFor:"column-input",children:"Columns"}),Object(l.jsx)(U.a,{id:"column-input",type:"number",onChange:function(e){var t=Number(e.target.value);s({type:"setBoardColumns",payload:{columns:t}})},value:o.board.columns})]}),Object(l.jsx)(z,{id:"gen-select",label:"Generation",fullWidth:!0,data:n,value:o.board.generation,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.name},getValue:function(e){return e.id},onChange:function(e){s({type:"setBoardGeneration",payload:e})}})]})}),Object(l.jsx)(_.a,{container:!0,item:!0,xs:10,children:Object(l.jsx)(ae,{children:Object(l.jsx)(te,{columns:o.board.columns,items:o.board.pokemon,renderCell:function(e){return Object(l.jsx)($,{variant:"unknown",children:Object(l.jsx)("img",{src:e.artworkUrl,alt:e.names.en})},e.names.en)}})})})]})}function se(){return Object(a.useContext)(j).state.users.player?Object(l.jsx)(ue,{}):Object(l.jsx)(ce,{})}var ie=function(){return Object(l.jsx)(p,{children:Object(l.jsx)(V,{lang:"en",children:Object(l.jsx)(F.a,{basename:"/ss-anne",children:Object(l.jsx)(D.c,{children:Object(l.jsx)(D.a,{exact:!0,path:"/",children:Object(l.jsx)(se,{})})})})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},de=n(167),be=n(164);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsxs)(de.b,{children:[Object(l.jsx)(be.a,{}),Object(l.jsx)(ie,{})]})}),document.getElementById("root")),le()},86:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.af36aee2.chunk.js.map