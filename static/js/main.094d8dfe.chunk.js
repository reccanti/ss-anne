(this["webpackJsonpss-anne"]=this["webpackJsonpss-anne"]||[]).push([[0],{128:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=128},141:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=n(6),u=n.n(i),s=n(10),l=n(15),f=n(13),p=n(88),d=n(186),b=n(187),m=n(188),h=n(192),j=n(185),O=n(189),v=n(18),x=n(8),g=n(2),k={user:null,board:{name:"",columns:15,game:{id:"red",name:"Red",generation:"generation-i",pokedex:[]},generation:{id:1,name:"Generation I"},pokedex:{id:"kanto",name:"Kanto",pokemon:[]},pokemon:[]},peerjs:null};function y(e,t){switch(t.type){case"setUser":return Object(x.a)(Object(x.a)({},e),{},{user:{name:t.payload.name}});case"setBoardColumns":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{columns:t.payload.columns})});case"setBoardName":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{name:t.payload.name})});case"setBoardGeneration":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{generation:Object(x.a)({},t.payload)})});case"setBoardGame":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{game:Object(x.a)({},t.payload)})});case"setBoardPokemon":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{pokemon:Object(v.a)(t.payload)})});case"setBoardPokedex":return Object(x.a)(Object(x.a)({},e),{},{board:Object(x.a)(Object(x.a)({},e.board),{},{pokedex:Object(x.a)({},t.payload)})});case"setPeerJS":return Object(x.a)(Object(x.a)({},e),{},{peerjs:t.payload});case"clear":return k;default:return e}}var w={state:k,dispatch:function(){}},C=Object(a.createContext)(w);function S(e){var t=e.children,n=Object(a.useReducer)(y,k),r=Object(l.a)(n,2),c={state:r[0],dispatch:r[1]};return Object(g.jsx)(C.Provider,{value:c,children:t})}var P=n(32),N=n(25),D=n(31),E=n.n(D),G=n(53),B=n.n(G);function T(e){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i,s,l,f,p=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=p.length>1&&void 0!==p[1]?p[1]:25,a=[],r=0;r<t.length;)c=t.slice(r,r+n),a.push(c),r+=n;o=[],i=0,s=a;case 6:if(!(i<s.length)){e.next=15;break}return l=s[i],e.next=10,Promise.allSettled(l);case 10:f=e.sent,o=o.concat(f);case 12:i++,e.next=6;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){function e(t,n){Object(P.a)(this,e),this.key=void 0,this.handler=void 0,this.key=t,this.handler=n}return Object(N.a)(e,[{key:"mkKey",value:function(e){return"".concat(this.key,".").concat(e)}},{key:"get",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mkKey(t),!(a=localStorage.getItem(n))){e.next=5;break}return r=JSON.parse(a),e.abrupt("return",r);case 5:return e.next=7,this.handler(t);case 7:if(!(c=e.sent)){e.next=11;break}return localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),A=new U("pokemon",function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.PokemonSpecies.resolve(t);case 2:return n=e.sent,a=n.varieties.find((function(e){return e.is_default})),e.next=6,E.a.Pokemon.resolve(a.pokemon.name);case 6:return r=e.sent,c=r.id,o=r.sprites.front_default,i=n.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),e.abrupt("return",{id:t,nationalDexNumber:c,artworkUrl:o,names:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=new U("games",function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.Version.resolve(t);case 2:return n=e.sent,e.next=5,E.a.VerionGroup.resolve(n.version_group.name);case 5:return a=e.sent,r=n.name,c=n.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),o=a.pokedexes.map((function(e){return e.name})),i=a.generation.name,e.abrupt("return",{id:r,names:c,pokedex:o,generation:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=B()(function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i,s,l,f,p,d,b,m,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.Generaition.resolve(t);case 2:return n=e.sent,a=n.version_groups.map((function(e){return E.a.VerionGroup.resolve(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=r.flatMap((function(e){return e.pokedexes.map((function(e){return L.get(e.name)}))})),e.next=10,Promise.all(c);case 10:return o=e.sent,i=new Set,o.forEach((function(e){e.pokemon.forEach((function(e){i.add(e)}))})),s=new Map,l=Array.from(i).map((function(e){return A.get(e)})),e.next=17,T(l,100);case 17:return f=e.sent,p=f.filter((function(e){return"fulfilled"===e.status})),p.map((function(e){return e.value})).forEach((function(e){s.set(e.id,e.nationalDexNumber)})),e.next=23,L.get("national");case 23:return d=e.sent,b=d.names,m=Array.from(i).sort((function(e,t){var n=s.get(e),a=s.get(t);return n>a?1:n<a?-1:0})),h="national/".concat(t),e.abrupt("return",{names:b,pokemon:m,id:h});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=new U("pokedex",function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i,s,f,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.includes("national/")){e.next=6;break}return n=t.split("/"),a=Object(l.a)(n,2),r=a[1],c=W(r),e.abrupt("return",c);case 6:return e.next=8,E.a.Pokedex.resolve(t);case 8:return o=e.sent,i=o.name,s=o.names.reduce((function(e,t){return e[t.language.name]=t.name,e}),{}),(f=o.pokemon_entries.map((function(e){return{name:e.pokemon_species.name,num:e.entry_number}}))).sort((function(e,t){return e.num>t.num?1:e.num<t.num?-1:0})),p=f.map((function(e){return e.name})),e.abrupt("return",{id:i,names:s,pokemon:p});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=B()(function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get(n);case 2:return a=e.sent,r=a.pokemon.map((function(e){return A.get(e)})),e.next=6,T(r,50);case 6:return c=e.sent,o=c.filter((function(e){return"fulfilled"===e.status&&!!e.value})),i=o.map((function(e){return e.value})),e.abrupt("return",i.map((function(e){return{id:e.id,name:e.names[t],artworkUrl:e.artworkUrl,nationalDexNumber:e.nationalDexNumber}})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),M=B()(function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.Version.listAll();case 2:return n=e.sent,a=n.results.map((function(e){return I.get(e.name)})),e.next=6,Promise.all(a);case 6:return r=e.sent,c=r.filter((function(e){return!!e})),e.abrupt("return",c.filter((function(e){return e.pokedex.length>0})).filter((function(e){return Object.keys(e.names).length>0})).map((function(e){return{id:e.id,name:e.names[t],generation:e.generation,pokedex:e.pokedex}})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=B()(function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a,r,c,o,i,s,l,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get(n);case 2:return a=e.sent,r=a.pokedex,c=r.map((function(e){return L.get(e)})),e.next=7,Promise.all(c);case 7:return o=e.sent,i=o.filter((function(e){return!!e})),s=i.map((function(e){return{id:e.id,name:e.names[t],pokemon:e.pokemon}})),e.next=12,W(a.generation);case 12:return l=e.sent,f={name:l.names[t],id:l.id,pokemon:l.pokemon},e.abrupt("return",[f].concat(Object(v.a)(s)));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),F=function(){function e(t){var n=t.lang,a=void 0===n?"en":n;Object(P.a)(this,e),this.language=void 0,this.language=a}return Object(N.a)(e,[{key:"getAllGames",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(this.language);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokedexByGame",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(this.language,t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPokemonByPokedex",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(this.language,t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),K=new F({lang:"en"}),R=Object(a.createContext)(K);function q(e){var t=Object(a.useState)(new F({lang:e.lang})),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){c(new F({lang:e.lang}))}),[e.lang]),Object(g.jsx)(R.Provider,{value:r,children:e.children})}var H=n(176),z=n(181),Q=n(90),X=n(197),Y=n(171),Z=n(194),$=n(174),ee=n(180),te=n(60),ne=n.n(te),ae=Object(a.createContext)(null);function re(){var e=Object(a.useContext)(ae);if(!e)throw new Error("usePeerJS must be used within a PeerJSProvider");return e}function ce(e){var t=e.children,n=e.peer;return Object(g.jsx)(ae.Provider,{value:n,children:t})}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new ne.a;n.on("open",(function(){e(n)})),n.on("error",(function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=n(191),se=n(196);function le(e){var t,n=new Map;e.data.forEach((function(t){n.set(e.getValue(t),t)}));return Object(g.jsxs)(Y.a,{fullWidth:null!==(t=e.fullWidth)&&void 0!==t&&t,children:[Object(g.jsx)(Z.a,{htmlFor:e.id,children:e.label}),Object(g.jsx)(ue.a,{id:e.id,value:e.getValue(e.value),onChange:function(t){var a=t.target.value,r=n.get(a);e.onChange(r)},children:e.data.map((function(t){return Object(g.jsx)(se.a,{value:e.getValue(t),children:e.getDisplayValue(t)},e.getKeyValue(t))}))})]})}var fe=n(177),pe=n(63),de=n(178),be=n(85),me=Object(H.a)({root:{display:"block",background:function(e){switch(e.variant){case"ship-unhit":return fe.a[500];case"ship-hit":return pe.a[500];case"miss":return de.a[50];default:return"transparent"}}},image:{display:"block"}});function he(e){var t=e.variant,n=e.onClick,a=e.children,r=me({variant:t});return Object(g.jsx)("li",{className:r.root,onClick:n,children:a})}var je=Object(H.a)({root:{display:"grid",gridTemplateColumns:function(e){return"repeat(".concat(e.columns,", max-content)")},listStyle:"none",padding:0}});function Oe(e){var t=e.columns,n=e.items,a=e.renderCell,r=je({columns:t});return Object(g.jsx)("ol",{className:r.root,children:n.map((function(e){return a(e)}))})}var ve=Object(H.a)({root:{width:"100%",height:"100vh",overflow:"scroll"}});function xe(e){var t=e.children,n=ve();return Object(g.jsx)(be.a,{className:n.root,children:t})}var ge=n(179),ke=Object(H.a)({root:{padding:"1rem",margin:"1rem","& *:not(:first-child)":{marginTop:"1rem"}}});function ye(e){var t=ke(),n=Object(a.useContext)(C).dispatch,r=Object(a.useState)({name:""}),c=Object(l.a)(r,2),o=c[0],i=c[1];return Object(g.jsx)(ge.a,{fixed:!0,maxWidth:"sm",children:Object(g.jsx)(Q.a,{className:t.root,children:Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit&&e.onSubmit({name:o.name}),n({type:"setUser",payload:{name:o.name}}),n({type:"setBoardName",payload:{name:"".concat(o.name,"'s board")}})},children:[Object(g.jsx)(X.a,{label:"Display Name",onChange:function(t){e.onNameChange&&e.onNameChange(t.target.value),i(Object(x.a)(Object(x.a)({},o),{},{name:t.target.value}))},value:o.name,fullWidth:!0}),Object(g.jsx)(ee.a,{type:"submit",fullWidth:!0,children:"Get Started"})]})})})}var we=n(64),Ce=n(86),Se=n.n(Ce);function Pe(e,t){return e.timestamp<t.timestamp?-1:e.timestamp>t.timestamp?1:0}var Ne=function(){function e(t,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ne.a;Object(P.a)(this,e),this.peer=void 0,this.state={},this.connections=new Map,this.diffStack=[],this.diffLookup=new Set,this.reducer=void 0,this.onConnectCallbacks=new Set,this.onChangeCallbacks=new Set,this.peer=r,this.peer.on("connection",(function(e){a.setupConnection(e)})),this.reducer=n,this.setState(t)}return Object(N.a)(e,[{key:"id",get:function(){return this.peer.id}},{key:"setState",value:function(e){this.state=e,this.onChangeCallbacks.forEach((function(t){t(e)}))}},{key:"setupConnection",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.on("data",function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setupMessageListener(t.peer,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("error",(function(e){a(e)})),t.on("close",(function(){console.log("See ya ".concat(t.peer)),n.connections.delete(t.peer)}));var r={lastUpdated:null,connection:t};n.connections.set(t.peer,r),n.onConnectCallbacks.forEach((function(e){e(r)})),e(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupMessageListener",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a,r,c,o,i,s,l,f=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="sendUpdate"===e.t0?3:"requestInternals"===e.t0?7:"sendInternals"===e.t0?9:"sendConnections"===e.t0?15:18;break;case 3:return a=n.updates,(r=a.filter((function(e){return!f.diffLookup.has(e.id)}))).length>0&&(r.forEach((function(e){f.diffLookup.add(e.id)})),this.applyDiffs(r)),e.abrupt("break",18);case 7:return this.connections.has(t)&&(c=this.connections.get(t),o=Array.from(this.connections.keys()),i=this.diffStack,this.message(c,{type:"sendInternals",connectionIDs:o,diffStack:i})),e.abrupt("break",18);case 9:return s=n.connectionIDs.filter((function(e){return e!==f.id})).map((function(e){return f.connect(e)})),e.next=12,Promise.all(s);case 12:return this.applyDiffs(n.diffStack),n.diffStack.forEach((function(e){f.diffLookup.add(e.id)})),e.abrupt("break",18);case 15:return l=n.connections.filter((function(e){return!f.connections.has(e)})).map((function(e){return f.connect(e)})),e.next=18,Promise.all(l);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDiffsToApplyEmpty",value:function(e){return e.sort(Pe)}},{key:"getDiffsToApplyMany",value:function(e){e.sort(Pe);for(var t=Object(we.a)(e),n=t[0],a=t.slice(1),r=[];this.diffStack.length>0&&this.diffStack[0].timestamp>n.timestamp;){var c=this.diffStack.shift();this.state=c.prevState,r.push(c)}return r.push(n),r.concat.apply(r,Object(v.a)(a)).sort(Pe)}},{key:"applyDiffs",value:function(e){var t=this,n=[];n=0===this.diffStack.length?this.getDiffsToApplyEmpty(e):this.getDiffsToApplyMany(e);var a=this.getState();n.forEach((function(e){e.prevState=a,a=t.reducer(a,e.action),t.diffStack.unshift(e)})),this.setState(a)}},{key:"getAllDiffsSince",value:function(e){if(0===this.diffStack.length)return[];for(var t=[],n=Object(we.a)(this.diffStack),a=n[0],r=n.slice(1);a.timestamp>e;){t.push(a);var c=r,o=Object(we.a)(c);a=o[0],r=o.slice(1)}return t}},{key:"syncConnections",value:function(){var e=this;this.connections.forEach((function(t){var n=[];n=t.lastUpdated?e.getAllDiffsSince(t.lastUpdated):Object(v.a)(e.diffStack).reverse(),e.message(t,{type:"sendUpdate",updates:n})}))}},{key:"message",value:function(e,t){e.lastUpdated=(new Date).getTime(),e.connection.send(t)}},{key:"connect",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=n.peer.connect(t);r.on("open",Object(s.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.setupConnection(r);case 2:a=t.sent,c=Array.from(n.connections.keys()),n.connections.forEach((function(e){n.message(e,{type:"sendConnections",connections:c})})),e(a);case 6:case"end":return t.stop()}}),t)})))),r.on("error",(function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clone",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect(t);case 2:n=e.sent,this.message(n,{type:"requestInternals"});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=(new Date).getTime(),n=this.peer.id,a=this.getState(),r=Se.a.encode(JSON.stringify({timestamp:t,author:n,action:e})),c={id:r,timestamp:t,author:n,action:e,prevState:a};this.diffLookup.add(r),this.applyDiffs([c]),this.syncConnections()}},{key:"getState",value:function(){return this.state}},{key:"regiserOnConnect",value:function(e){this.onConnectCallbacks.add(e)}},{key:"removeOnConnect",value:function(e){this.onConnectCallbacks.delete(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallbacks.add(e)}},{key:"removeOnChange",value:function(e){this.onChangeCallbacks.delete(e)}}]),e}();function De(e,t){switch(t.type){case"join":return Object(x.a)(Object(x.a)({},e),{},{waiting:[].concat(Object(v.a)(e.waiting),[t.player])});case"leave":return Object(x.a)(Object(x.a)({},e),{},{waiting:e.waiting.filter((function(e){return e.id!==t.player.id}))});default:return e}}function Ee(e){return new Ne({players:[],waiting:[]},De,e)}var Ge=Object(a.createContext)(null);function Be(){var e=Object(a.useContext)(Ge);if(!e)throw new Error("useSharedData must be used within a SharedDataProvider");var t=Object(a.useState)(e.getState()),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){function t(e){c(e)}return e.registerOnChange(t),function(){return e.removeOnChange(t)}}),[e]),{state:r,join:Object(a.useCallback)((function(t){e.update({type:"join",player:t})}),[e]),leave:Object(a.useCallback)((function(t){e.update({type:"leave",player:t})}),[e]),ready:Object(a.useCallback)((function(t){e.update({type:"ready",player:t})}),[e]),notReady:Object(a.useCallback)((function(t){e.update({type:"notReady",player:t})}),[e]),clone:Object(a.useCallback)(function(){var t=Object(s.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clone(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}}function Te(e){var t=e.children,n=e.db;return Object(g.jsx)(Ge.Provider,{value:n,children:t})}var Ve=Object(H.a)({root:{padding:"1rem",maxWidth:"350px",margin:"1rem","& form > *:not(:first-child)":{marginTop:"1rem"}},image:{pointerEvents:"none"}});function Ue(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],p=o[1],d=Object(a.useContext)(C),b=d.state,m=d.dispatch,h=Object(a.useContext)(R),j=Object(f.f)(),O=re();Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAllGames();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getPokedexByGame(b.board.game);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h,m,b.board.game]),Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getPokemonByPokedex(b.board.pokedex);case 2:t=e.sent,m({type:"setBoardPokemon",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h,m,b.board.pokedex]);return Object(g.jsx)(Ae,{curName:b.board.name,curColumn:b.board.columns,curGame:b.board.game,curPokedex:b.board.pokedex,curPokemon:b.board.pokemon,games:n,pokedex:i,onNameChange:function(e){var t=e.target.value;m({type:"setBoardName",payload:{name:t}})},onColumnChange:function(e){var t=Number(e.target.value);m({type:"setBoardColumns",payload:{columns:t}})},onGameChange:function(e){m({type:"setBoardGame",payload:e})},onPokedexChange:function(e){m({type:"setBoardPokedex",payload:e})},onSubmit:function(e){e.preventDefault(),O.id&&j.push("/".concat(O.id))}})}function Ae(e){var t=Ve();return Object(g.jsxs)(z.a,{container:!0,children:[Object(g.jsx)(z.a,{container:!0,item:!0,xs:2,children:Object(g.jsx)(Q.a,{className:t.root,children:Object(g.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(g.jsx)(X.a,{fullWidth:!0,label:"Board Name",onChange:e.onNameChange,value:e.curName}),Object(g.jsxs)(Y.a,{fullWidth:!0,children:[Object(g.jsx)(Z.a,{htmlFor:"column-input",children:"Columns"}),Object(g.jsx)($.a,{id:"column-input",type:"number",onChange:e.onColumnChange,value:e.curColumn})]}),Object(g.jsx)(le,{id:"game-select",label:"Game",fullWidth:!0,data:e.games,value:e.curGame,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.id},getValue:function(e){return e.id},onChange:e.onGameChange}),Object(g.jsx)(le,{id:"pokedex-select",label:"Pokedex",fullWidth:!0,data:e.pokedex,value:e.curPokedex,getDisplayValue:function(e){return e.name},getKeyValue:function(e){return e.id},getValue:function(e){return e.id},onChange:e.onPokedexChange}),Object(g.jsx)(ee.a,{type:"submit",fullWidth:!0,children:"Get Started!"})]})})}),Object(g.jsx)(z.a,{container:!0,item:!0,xs:10,children:Object(g.jsx)(xe,{children:Object(g.jsx)(Oe,{columns:e.curColumn,items:e.curPokemon,renderCell:function(e){return Object(g.jsx)(he,{variant:"unknown",children:Object(g.jsx)("img",{className:t.image,src:e.artworkUrl,alt:e.name})},e.name)}})})})]})}function Ie(){var e=Object(a.useContext)(C).state,t=re(),n=Be().join;return e.user?Object(g.jsx)(Ue,{}):Object(g.jsx)(ye,{onSubmit:function(e){var a={name:e.name,id:t.id};n(a)}})}var We=n(182),Le=n(183),_e=n(184),Me=n(87),Je=n.n(Me),Fe=Object(H.a)((function(e){return{root:{padding:e.spacing(4),"& > *:not(:first-child)":{marginTop:e.spacing(2)}},button:{margin:e.spacing(1),marginLeft:e.spacing(4)},cardGrid:{marginTop:e.spacing(2)},card:{width:"100%"}}}));function Ke(){var e=Fe(),t=Be().state;return Object(g.jsxs)(ge.a,{className:e.root,children:[Object(g.jsxs)(h.a,{component:"section",children:[Object(g.jsxs)(h.a,{display:"flex",children:[Object(g.jsx)(We.a,{variant:"h3",component:"h1",children:"Players"}),Object(g.jsx)(ee.a,{className:e.button,color:"primary",variant:"contained",startIcon:Object(g.jsx)(Je.a,{}),children:"Join"})]}),Object(g.jsx)(z.a,{className:e.cardGrid,container:!0,children:Object(g.jsx)(z.a,{container:!0,item:!0,xs:2,children:Object(g.jsx)(Le.a,{className:e.card,children:Object(g.jsx)(_e.a,{children:"Testing..."})})})})]}),Object(g.jsxs)(h.a,{component:"section",children:[Object(g.jsx)(h.a,{display:"flex",children:Object(g.jsx)(We.a,{variant:"h3",component:"h1",children:"Hanging Out"})}),Object(g.jsx)(z.a,{className:e.cardGrid,container:!0,children:t.waiting.map((function(t){return Object(g.jsx)(z.a,{container:!0,item:!0,xs:2,children:Object(g.jsx)(Le.a,{className:e.card,children:Object(g.jsx)(_e.a,{children:t.name})})},t.id)}))})]}),Object(g.jsx)(h.a,{children:Object(g.jsx)(ee.a,{fullWidth:!0,variant:"contained",color:"primary",children:"Start Game"})})]})}function Re(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=re(),o=Be(),i=o.join,p=o.clone,d=Object(a.useContext)(C).state,b=Object(f.g)().peer_id;Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.id===b){e.next=3;break}return e.next=3,p(b);case 3:r(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){return r(!1)}}),[b,c.id,p]);return n?d.user?Object(g.jsx)(Ke,{}):Object(g.jsx)(ye,{onSubmit:function(e){var t={name:e.name,id:c.id};i(t)}}):Object(g.jsx)(j.a,{})}function qe(){var e=Object(a.useContext)(C).dispatch,t=Object(f.f)();return Object(g.jsx)(d.a,{position:"static",children:Object(g.jsx)(b.a,{children:Object(g.jsx)(m.a,{onClick:function(){e({type:"clear"}),t.push("/")},children:Object(g.jsx)(O.a,{})})})})}var He=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],d=o[1],b=Object(a.useState)(null),m=Object(l.a)(b,2),O=m[0],v=m[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe();case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){n&&function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Ee(n),d(t)}catch(a){v(a)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),n&&i?Object(g.jsx)(ce,{peer:n,children:Object(g.jsx)(Te,{db:i,children:Object(g.jsx)(S,{children:Object(g.jsx)(q,{lang:"en",children:Object(g.jsx)(h.a,{children:Object(g.jsxs)(p.a,{basename:"/ss-anne",children:[Object(g.jsx)(qe,{}),Object(g.jsxs)(f.c,{children:[Object(g.jsx)(f.a,{exact:!0,path:"/",children:Object(g.jsx)(Ie,{})}),Object(g.jsx)(f.a,{exact:!0,path:"/:peer_id",children:Object(g.jsx)(Re,{})})]})]})})})})})}):O?Object(g.jsx)(g.Fragment,{children:O.message}):Object(g.jsx)(j.a,{})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},Qe=n(193),Xe=n(190);o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsxs)(Qe.b,{children:[Object(g.jsx)(Xe.a,{}),Object(g.jsx)(He,{})]})}),document.getElementById("root")),ze()}},[[141,1,2]]]);
//# sourceMappingURL=main.094d8dfe.chunk.js.map